{"version":3,"file":"lib_index_js.88eed1898aa2994d5366.js","mappings":";;;;;;;;;;;;;;;;;;;AAIuD;AACC;AAChB;AAExC,IAAI,KAAK,GAAG,CAAC,CAAC;AAEd,MAAM,UAAU,GAAG,IAAI,GAAG,CAAiB;IACzC;QACE,0GAA0G;QAC1G;;;;;;;;;;;;;;;;;;;;8BAoB0B;KAC3B;IACD;QACE,uFAAuF;QACvF;;;;;;EAMF;KACC;IACD;QACE,+CAA+C;QAC/C;;;;;;;;;;;;;;;;;;;;;;WAsBO;KACR;IACD;QACE,0HAA0H;QAC1H;;;;;;;;;;;;;;;;;;;;;;;;;;;WA2BO;KACR;IACD;QACE,uGAAuG;QACvG;;;;;;;;;;;;;;;;;;;;;WAqBO;KACR;IACD;QACE,yHAAyH;QACzH;;;;;;;;;;;;;;;;;;;;;;;WAuBO;KACR;IACD;QACE,mOAAmO;QACnO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sGAkDkG;KACnG;IACD;QACE,4GAA4G;QAC5G;;;;;;;;;WASO;KACR;IACD;QACE,4GAA4G;QAC5G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAiCO;KACR;CACF,CAAC,CAAC;AAEH,MAAM,SAAS,GAAG,2BAA2B,CAAC;AAE9C,MAAM,SAAS,GAAgC;IAC7C,EAAE,EAAE,SAAS;IACb,SAAS,EAAE,IAAI;IACf,QAAQ,EAAE,CAAC,iEAAe,EAAE,kEAAgB,CAAC;IAC7C,QAAQ,EAAE,CACR,GAAoB,EACpB,OAAwB,EACxB,eAAiC,EACjC,EAAE;QACF,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC;QACzB,MAAM,OAAO,GAAG,iCAAiC,CAAC;QAClD,MAAM,QAAQ,GAAG,+BAA+B,CAAC;QAEjD,QAAQ,CAAC,UAAU,CAAC,OAAO,EAAE;YAC3B,KAAK,EAAE,mBAAmB;YAC1B,OAAO,EAAE,GAAG,EAAE;gBACZ,MAAM,UAAU,GAAG,eAAe,CAAC,UAAU,CAAC;gBAC9C,IAAI,UAAU,EAAE;oBACd,MAAM,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC;oBAEpD,qDAAqD;oBACrD,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACrD,MAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBACvD,gBAAgB,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oBAC1C,gBAAgB,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;oBAC3C,gBAAgB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;oBACxC,gBAAgB,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC;oBAC7C,cAAc,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oBACxC,cAAc,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC;oBACzC,cAAc,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;oBACtC,cAAc,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;oBAC9C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;oBAC5C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;oBAE9C,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;oBACtD,UAAU,CAAC,WAAW,GAAG,iBAAiB,CAAC;oBAC3C,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;oBAChC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;oBAClC,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;oBAEvC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oBACtD,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC;oBACpC,YAAY,CAAC,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;oBACjD,YAAY,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;oBACxC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,oBAAoB,CAAC;oBACjD,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACtC,YAAY,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oBACtC,YAAY,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oBACtC,cAAc,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;oBAEzC,UAAU,CAAC,KAAK,EAAE,CAAC;oBAEnB,MAAM,YAAY,GAAG,GAAG,EAAE;wBACxB,MAAM,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC;wBACnC,IAAI,SAAS,KAAK,EAAE,EAAE;4BACpB,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;4BACpD,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;4BACvC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC;4BACrC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;4BAE3C,uCAAuC;4BACvC,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;4BACvC,cAAc,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;4BAEzC,8BAA8B;4BAC9B,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;4BACtD,eAAe,CAAC,WAAW,GAAG,cAAc,CAAC;4BAC7C,cAAc,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;4BAE5C,MAAM,YAAY,GAAG,CAAC,GAAW,EAAE,EAAE;gCACnC,IAAI;oCACF,MAAM,UAAU,GAAG,iDAAa,CAAC,gBAAgB,CAC/C,aAAa,EACb;wCACE,QAAQ,EAAE,IAAI;wCACd,KAAK,EAAE,SAAS;qCACjB,CACF,CAAC;oCACF,UAAU,CAAC,QAAQ,CAAC;wCAClB,QAAQ,EAAE,iDAAa,CAAC,WAAW,CAAC,OAAO,EAAE,QAAQ,CAAC;wCACtD,QAAQ,EAAE,iDAAa,CAAC,WAAW,CAAC,GAAG,EAAE,QAAQ,CAAC;qCACnD,CAAC,CAAC;oCAEH,gCAAgC;oCAChC,cAAc,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;oCAE5C,uCAAuC;oCACvC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oCACtD,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC;oCACpC,YAAY,CAAC,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;oCACjD,YAAY,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;oCACxC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,oBAAoB,CAAC;oCACjD,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;oCACtC,YAAY,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oCACtC,YAAY,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oCACtC,YAAY,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;oCACxC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;wCAC1C,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,GAAG,CAAC;wCAC1C,QAAQ,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;wCACtC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;wCAC3C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;oCAChD,CAAC,CAAC,CAAC;oCACH,gBAAgB,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;oCAE3C,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oCACtD,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC;oCACpC,YAAY,CAAC,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;oCACjD,YAAY,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;oCACxC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,oBAAoB,CAAC;oCACjD,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;oCACtC,YAAY,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oCACtC,YAAY,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oCACtC,YAAY,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;oCACxC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;wCAC1C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;wCAC3C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;wCAC9C,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,OAAO,CAAC;oCAChD,CAAC,CAAC,CAAC;oCACH,gBAAgB,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;oCAE3C,MAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;oCAC1D,gBAAgB,CAAC,WAAW,GAAG,aAAa,CAAC;oCAC7C,gBAAgB,CAAC,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;oCACrD,gBAAgB,CAAC,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;oCAC5C,gBAAgB,CAAC,KAAK,CAAC,MAAM,GAAG,oBAAoB,CAAC;oCACrD,gBAAgB,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC;oCAC1C,gBAAgB,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oCAC1C,gBAAgB,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC;oCAC1C,gBAAgB,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;oCAC5C,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;wCAC9C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;wCAC3C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;wCAC9C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;wCAC5C,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;wCACvC,cAAc,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;oCAC3C,CAAC,CAAC,CAAC;oCACH,gBAAgB,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;oCAE/C,oEAAoE;oCACpE,gBAAgB,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;wCACnD,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;4CACzB,KAAK,CAAC,cAAc,EAAE,CAAC;4CACvB,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC;4CAC7C,IAAI,aAAa,KAAK,YAAY,EAAE;gDAClC,YAAY,CAAC,KAAK,EAAE,CAAC;6CACtB;iDAAM,IAAI,aAAa,KAAK,YAAY,EAAE;gDACzC,YAAY,CAAC,KAAK,EAAE,CAAC;6CACtB;yCACF;oCACH,CAAC,CAAC,CAAC;oCAEH,qEAAqE;oCACrE,gBAAgB,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;wCACnD,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;4CAC1B,KAAK,CAAC,cAAc,EAAE,CAAC;4CACvB,YAAY,CAAC,KAAK,EAAE,CAAC;yCACtB;oCACH,CAAC,CAAC,CAAC;iCACJ;gCAAC,OAAO,KAAK,EAAE;oCACd,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;iCAC/C;4BACH,CAAC,CAAC;4BAEF,IAAI,UAAU,GAAG,KAAK,CAAC;4BAEvB,KAAK,MAAM,OAAO,IAAI,UAAU,CAAC,IAAI,EAAE,EAAE;gCACvC,IAAI,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;oCAC/B,UAAU,GAAG,IAAI,CAAC;oCAClB,MAAM,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,OAAO,CAAW,CAAC;oCAClD,MAAM,SAAS,GAAG,CAAC,CAAC;oCACpB,IAAI,MAAM,GAAG,CAAC,CAAC;oCACf,IAAI,gBAAgB,GAAG,EAAE,CAAC;oCAE1B,MAAM,aAAa,GAAG,GAAG,EAAE;wCACzB,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,GAAG,SAAS,CAAC,CAAC;wCACxD,gBAAgB,IAAI,KAAK,CAAC;wCAC1B,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,gBAAgB,CAAC;wCACvD,MAAM,IAAI,SAAS,CAAC;wCACpB,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE;4CAC3B,UAAU,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;yCAC9B;6CAAM;4CACL,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAW,CAAC,CAAC;yCACjD;oCACH,CAAC,CAAC;oCAEF,aAAa,EAAE,CAAC;oCAChB,MAAM;iCACP;6BACF;4BAED,IAAI,CAAC,UAAU,EAAE;gCACf,MAAM,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,KAAK,WAAW,CAAC;gCAE7D,MAAM,OAAO,GAAQ;oCACnB,MAAM,EAAE,MAAM;oCACd,OAAO,EAAE;wCACP,cAAc,EAAE,kBAAkB;qCACnC;oCACD,IAAI,EAAE,WAAW;wCACf,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;4CACb,KAAK,EAAE,qBAAqB;4CAC5B,QAAQ,EAAE;gDACR;oDACE,IAAI,EAAE,MAAM;oDACZ,OAAO,EAAE,kCAAkC,SAAS,qCAAqC,OAAO,yDAAyD;iDAC1J;6CACF;yCACF,CAAC;wCACJ,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;4CACb,OAAO;4CACP,SAAS;yCACV,CAAC;iCACP,CAAC;gCAEF,IAAI,WAAW,EAAE;oCACf,OAAO,CAAC,OAAO,CAAC,aAAa;wCAC3B,4DAA4D,CAAC;iCAChE;gCAED,KAAK,CACH,WAAW;oCACT,CAAC,CAAC,4CAA4C;oCAC9C,CAAC,CAAC,iFAAiF,EACrF,OAAO,CACR;qCACE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;qCACjC,IAAI,CAAC,IAAI,CAAC,EAAE;oCACX,MAAM,GAAG,GAAG,WAAW;wCACrB,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO;wCACjC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;oCACjB,YAAY,CAAC,GAAG,CAAC,CAAC;gCACpB,CAAC,CAAC;qCACD,KAAK,CAAC,KAAK,CAAC,EAAE;oCACb,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,GAAG,YAAY,KAAK,KAAK,OAAO,EAAE,CAAC;oCACtE,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;oCAC3C,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;gCAC9C,CAAC,CAAC,CAAC;6BACN;yBACF;oBACH,CAAC,CAAC;oBAEF,2CAA2C;oBAC3C,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE;wBAC7C,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;4BACzB,KAAK,CAAC,cAAc,EAAE,CAAC;4BACvB,YAAY,EAAE,CAAC;yBAChB;oBACH,CAAC,CAAC,CAAC;oBAEH,+CAA+C;oBAC/C,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;iBACtD;YACH,CAAC;SACF,CAAC,CAAC;QAEH,QAAQ,CAAC,UAAU,CAAC,QAAQ,EAAE;YAC5B,KAAK,EAAE,YAAY;YACnB,OAAO,EAAE,GAAG,EAAE;gBACZ,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACpE,KAAK,EAAE,CAAC;YACV,CAAC;SACF,CAAC,CAAC;QAEH,MAAM,QAAQ,GAAG,iBAAiB,CAAC;QACnC,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC;QACvC,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;QAEjD,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC;YACzB,OAAO;YACP,IAAI,EAAE,CAAC,SAAS,CAAC;YACjB,QAAQ,EAAE,cAAc;SACzB,CAAC,CAAC;QACH,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC;YACzB,OAAO,EAAE,QAAQ;YACjB,IAAI,EAAE,CAAC,SAAS,CAAC;YACjB,QAAQ,EAAE,cAAc;SACzB,CAAC,CAAC;IACL,CAAC;CACF,CAAC;AAEF,iEAAe,SAAS,EAAC","sources":["webpack://pretzelai/./src/index.ts"],"sourcesContent":["import {\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin\n} from '@jupyterlab/application';\nimport { ICommandPalette } from '@jupyterlab/apputils';\nimport { INotebookTracker } from '@jupyterlab/notebook';\nimport * as monaco from 'monaco-editor';\n\nconst PLUGIN_ID = 'cell-code-replacer:plugin';\n\nconst extension: JupyterFrontEndPlugin<void> = {\n  id: PLUGIN_ID,\n  autoStart: true,\n  requires: [ICommandPalette, INotebookTracker],\n  activate: (\n    app: JupyterFrontEnd,\n    palette: ICommandPalette,\n    notebookTracker: INotebookTracker\n  ) => {\n    const { commands } = app;\n    const command = 'cell-code-replacer:replace-code';\n    const command2 = 'cell-code-replacer:paste-text';\n\n    commands.addCommand(command, {\n      label: 'Replace Cell Code',\n      execute: () => {\n        const activeCell = notebookTracker.activeCell;\n        if (activeCell) {\n          const oldCode = activeCell.model.sharedModel.source;\n\n          // Create an input field and append it below the cell\n          const inputContainer = document.createElement('div');\n          const buttonsContainer = document.createElement('div');\n          buttonsContainer.style.marginTop = '10px';\n          buttonsContainer.style.marginLeft = '70px';\n          buttonsContainer.style.display = 'flex';\n          buttonsContainer.style.flexDirection = 'row';\n          inputContainer.style.marginTop = '10px';\n          inputContainer.style.marginLeft = '70px';\n          inputContainer.style.display = 'flex';\n          inputContainer.style.flexDirection = 'column';\n          activeCell.node.appendChild(inputContainer);\n          activeCell.node.appendChild(buttonsContainer);\n\n          const inputField = document.createElement('textarea');\n          inputField.placeholder = 'Enter your text';\n          inputField.style.width = '100%';\n          inputField.style.height = '100px';\n          inputContainer.appendChild(inputField);\n\n          const submitButton = document.createElement('button');\n          submitButton.textContent = 'Submit';\n          submitButton.style.backgroundColor = 'lightblue';\n          submitButton.style.borderRadius = '5px';\n          submitButton.style.border = '1px solid darkblue';\n          submitButton.style.maxWidth = '100px';\n          submitButton.style.minHeight = '25px';\n          submitButton.style.marginTop = '10px';\n          inputContainer.appendChild(submitButton);\n\n          inputField.focus();\n\n          const handleAccept = () => {\n            const userInput = inputField.value;\n            if (userInput !== '') {\n              const diffContainer = document.createElement('div');\n              diffContainer.style.marginTop = '10px';\n              diffContainer.style.height = '200px';\n              activeCell.node.appendChild(diffContainer);\n\n              // Remove input field and submit button\n              inputContainer.removeChild(inputField);\n              inputContainer.removeChild(submitButton);\n\n              // Show \"Thinking ...\" message\n              const thinkingMessage = document.createElement('div');\n              thinkingMessage.textContent = 'Thinking ...';\n              inputContainer.appendChild(thinkingMessage);\n\n              const renderEditor = (gen: string) => {\n                try {\n                  const diffEditor = monaco.editor.createDiffEditor(\n                    diffContainer,\n                    {\n                      readOnly: true,\n                      theme: 'vs-dark'\n                    }\n                  );\n                  diffEditor.setModel({\n                    original: monaco.editor.createModel(oldCode, 'python'),\n                    modified: monaco.editor.createModel(gen, 'python')\n                  });\n\n                  // Remove \"Thinking ...\" message\n                  inputContainer.removeChild(thinkingMessage);\n\n                  // Create \"Accept\" and \"Reject\" buttons\n                  const acceptButton = document.createElement('button');\n                  acceptButton.textContent = 'Accept';\n                  acceptButton.style.backgroundColor = 'lightblue';\n                  acceptButton.style.borderRadius = '5px';\n                  acceptButton.style.border = '1px solid darkblue';\n                  acceptButton.style.maxWidth = '100px';\n                  acceptButton.style.minHeight = '25px';\n                  acceptButton.style.marginTop = '10px';\n                  acceptButton.style.marginRight = '10px';\n                  acceptButton.addEventListener('click', () => {\n                    activeCell.model.sharedModel.source = gen;\n                    commands.execute('notebook:run-cell');\n                    activeCell.node.removeChild(diffContainer);\n                    activeCell.node.removeChild(buttonsContainer);\n                  });\n                  buttonsContainer.appendChild(acceptButton);\n\n                  const rejectButton = document.createElement('button');\n                  rejectButton.textContent = 'Reject';\n                  rejectButton.style.backgroundColor = 'lightblue';\n                  rejectButton.style.borderRadius = '5px';\n                  rejectButton.style.border = '1px solid darkblue';\n                  rejectButton.style.maxWidth = '100px';\n                  rejectButton.style.minHeight = '25px';\n                  rejectButton.style.marginTop = '10px';\n                  rejectButton.style.marginRight = '10px';\n                  rejectButton.addEventListener('click', () => {\n                    activeCell.node.removeChild(diffContainer);\n                    activeCell.node.removeChild(buttonsContainer);\n                    activeCell.model.sharedModel.source = oldCode;\n                  });\n                  buttonsContainer.appendChild(rejectButton);\n\n                  const editPromptButton = document.createElement('button');\n                  editPromptButton.textContent = 'Edit Prompt';\n                  editPromptButton.style.backgroundColor = 'lightblue';\n                  editPromptButton.style.borderRadius = '5px';\n                  editPromptButton.style.border = '1px solid darkblue';\n                  editPromptButton.style.maxWidth = '100px';\n                  editPromptButton.style.minHeight = '25px';\n                  editPromptButton.style.marginTop = '10px';\n                  editPromptButton.style.marginRight = '10px';\n                  editPromptButton.addEventListener('click', () => {\n                    activeCell.node.removeChild(diffContainer);\n                    activeCell.node.removeChild(buttonsContainer);\n                    activeCell.node.appendChild(inputContainer);\n                    inputContainer.appendChild(inputField);\n                    inputContainer.appendChild(submitButton);\n                  });\n                  buttonsContainer.appendChild(editPromptButton);\n\n                  // Handle Enter key press to trigger accept on accept/reject buttons\n                  buttonsContainer.addEventListener('keydown', event => {\n                    if (event.key === 'Enter') {\n                      event.preventDefault();\n                      const activeElement = document.activeElement;\n                      if (activeElement === acceptButton) {\n                        acceptButton.click();\n                      } else if (activeElement === rejectButton) {\n                        rejectButton.click();\n                      }\n                    }\n                  });\n\n                  // Handle Escape key press to trigger reject on accept/reject buttons\n                  buttonsContainer.addEventListener('keydown', event => {\n                    if (event.key === 'Escape') {\n                      event.preventDefault();\n                      rejectButton.click();\n                    }\n                  });\n                } catch (error) {\n                  console.log('Error rendering editor:', error);\n                }\n              };\n\n              const isLocalhost = window.location.hostname === 'localhost';\n\n              const options: any = {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: isLocalhost\n                  ? JSON.stringify({\n                      model: 'gpt-4-turbo-preview',\n                      messages: [\n                        {\n                          role: 'user',\n                          content: `Write python code to do \\n\"\"\"\\n${userInput}\\n\"\"\"\\nThe previous code is\\n\"\"\"\\n${oldCode}\\n\"\"\"\\nReturn ONLY executable python code, no backticks`\n                        }\n                      ]\n                    })\n                  : JSON.stringify({\n                      oldCode,\n                      userInput\n                    })\n              };\n\n              if (isLocalhost) {\n                options.headers.Authorization =\n                  'Bearer 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';\n              }\n\n              fetch(\n                isLocalhost\n                  ? 'https://api.openai.com/v1/chat/completions'\n                  : 'https://q8qeei2tn4.execute-api.us-west-1.amazonaws.com/default/pretzel_notebook',\n                options\n              )\n                .then(response => response.json())\n                .then(data => {\n                  const gen = isLocalhost\n                    ? data.choices[0].message.content\n                    : data.message;\n                  renderEditor(gen);\n                })\n                .catch(error => {\n                  activeCell.model.sharedModel.source = `# Error: ${error}\\n${oldCode}`;\n                  activeCell.node.removeChild(diffContainer);\n                  activeCell.node.removeChild(inputContainer);\n                });\n            }\n          };\n\n          // Handle Enter key press to trigger submit\n          inputField.addEventListener('keydown', event => {\n            if (event.key === 'Enter') {\n              event.preventDefault();\n              handleAccept();\n            }\n          });\n\n          // Handle submit button click to trigger accept\n          submitButton.addEventListener('click', handleAccept);\n        }\n      }\n    });\n\n    const category = 'Cell Operations';\n    palette.addItem({ command, category });\n    palette.addItem({ command: command2, category });\n\n    app.commands.addKeyBinding({\n      command,\n      keys: ['Accel K'],\n      selector: '.jp-Notebook'\n    });\n    app.commands.addKeyBinding({\n      command: command2,\n      keys: ['Accel X'],\n      selector: '.jp-Notebook'\n    });\n  }\n};\n\nexport default extension;\n"],"names":[],"sourceRoot":""}