(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{11112:function(e,t,n){Promise.resolve().then(n.bind(n,22279))},22279:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(57437),i=n(64378),o=n(91617),a=n(30695),d=n(77389),l=n(44623),s=n(86326),c=e=>{console.log("renderFilterDropdown",e);let{tempFilteredValue:t,setTempFilteredValue:n,confirm:o,clear:a,close:d}=e;return(0,r.jsx)(i.Qc,{value:t[0],showClear:!0,prefix:(0,r.jsx)(s.Z,{}),placeholder:"搜索... ",onChange:e=>{let t=e?[e]:[];n(t),o({filteredValue:t})},style:{width:200,margin:5}})};function u(){let{Header:e,Footer:t,Sider:n,Content:s}=i.Layout,{data:u,error:h,isLoading:f}=(0,o.ZP)("/v1/streamer-info",a._i);if(f)return(0,r.jsx)(i.yC,{size:"large"});let{Text:g}=i.Typography,x=[{title:"名称",dataIndex:"name",onFilter:(e,t)=>t.name.includes(e),renderFilterDropdown:c},{title:"标题",dataIndex:"title",render:(e,t,n)=>(0,r.jsx)(g,{strong:!0,children:e}),onFilter:(e,t)=>t.title.includes(e),renderFilterDropdown:c},{title:"链接",dataIndex:"url"},{title:"封面",dataIndex:"live_cover_path"},{title:"更新日期",dataIndex:"date",render:(e,t,n)=>(0,r.jsx)(r.Fragment,{children:(0,l.cE)(e)}),defaultSortOrder:"descend",sorter:(e,t,n)=>e.date-t.date}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e,{style:{backgroundColor:"var(--semi-color-bg-1)"},children:(0,r.jsx)(i.JL,{style:{border:"none"},header:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{backgroundColor:"rgb(250 102 76)",borderRadius:"var(--semi-border-radius-large)",color:"var(--semi-color-bg-0)",display:"flex",padding:"6px"},children:(0,r.jsx)(d.Z,{size:"large"})}),(0,r.jsx)("h4",{style:{marginLeft:"12px"},children:"直播历史"})]}),mode:"horizontal"})}),(0,r.jsx)(s,{style:{paddingLeft:12,paddingRight:12,backgroundColor:"var(--semi-color-bg-0)"},children:(0,r.jsx)("main",{children:(0,r.jsx)(i.iA,{size:"small",rowKey:"id",columns:x,dataSource:u,expandedRowRender:(e,t)=>(0,r.jsxs)(r.Fragment,{children:["文件列表：",e.files.map(e=>(0,r.jsxs)("div",{children:["\xa0\xa0文件名：",e.file]},e.id))]})})})})]})}},30695:function(e,t,n){"use strict";n.d(t,{_i:function(){return o},gz:function(){return l},hw:function(){return d},sj:function(){return a},wG:function(){return i}});var r=n(20357);async function i(e,t){let{arg:n}=t;console.log(JSON.stringify(n));let i=await fetch(r.env.NEXT_PUBLIC_API_SERVER+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!(i.status>=200&&i.status<300))throw Error(await i.text());let o=await i.json();if(!i.ok)throw Error(o.message);return o}let o=async function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];let o=await fetch((null!==(e=r.env.NEXT_PUBLIC_API_SERVER)&&void 0!==e?e:"")+n[0],n[1]);if(!o.ok)throw Error(await o.text());return o.json()},a=async(e,t)=>{var n;let i=await fetch((null!==(n=r.env.NEXT_PUBLIC_API_SERVER)&&void 0!==n?n:"")+e,t);if(!i.ok)throw Error(await i.text());return i};async function d(e,t){let{arg:n}=t,i=await fetch("".concat(r.env.NEXT_PUBLIC_API_SERVER).concat(e,"/").concat(n),{method:"DELETE"});if(!i.ok)throw Error(await i.text());return i}async function l(e,t){let{arg:n}=t,i=await fetch("".concat(r.env.NEXT_PUBLIC_API_SERVER).concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw Error(await i.text());return i}},44623:function(e,t,n){"use strict";n.d(t,{cE:function(){return o},f:function(){return r},ql:function(){return i}});let r={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},i=(e,t)=>{let{match:n,unmatch:r,callInInit:i=!0}=t;{let t=window.matchMedia(e),o=function(e){e.matches?n&&n(e):r&&r(e)};return(i&&o(t),Object.prototype.hasOwnProperty.call(t,"addEventListener"))?(t.addEventListener("change",o),()=>t.removeEventListener("change",o)):(t.addListener(o),()=>t.removeListener(o))}},o=e=>new Date(1e3*e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replaceAll("/","-")},77389:function(e,t,n){"use strict";var r=n(2265);let i=(0,n(26018).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{d:"M6.0824 8.00335C6.5571 5.16399 9.02583 3 12 3C14.9742 3 17.4429 5.16399 17.9176 8.00335C17.4039 8.04525 17 8.47546 17 9V16C17 16.5523 17.4477 17 18 17H18.5322C17.8461 18.3807 16.4717 19.359 14.8579 19.486C14.6831 19.1948 14.3643 19 14 19H10C9.44772 19 9 19.4477 9 20V21C9 21.5523 9.44772 22 10 22H14C14.3744 22 14.7008 21.7942 14.8722 21.4895C17.6318 21.3337 19.9311 19.4565 20.7134 16.9147C22.0259 16.5945 23 15.411 23 14V11C23 9.34315 21.6569 8 20 8H19.9381C19.446 4.05369 16.0796 1 12 1C7.92038 1 4.55399 4.05369 4.06189 8H4C2.34315 8 1 9.34315 1 11V14C1 15.6569 2.34315 17 4 17H6C6.55228 17 7 16.5523 7 16V9C7 8.47546 6.59614 8.04525 6.0824 8.00335Z",fill:"currentColor"}))},"customer_support");t.Z=i}},function(e){e.O(0,[798,674,878,608,328,84,460,862,378,617,971,23,744],function(){return e(e.s=11112)}),_N_E=e.O()}]);