import{C as ee,_ as te}from"./ChatRecprdsHeader-lD92tt06.js";import{h as O}from"./axios--FnjuHWf.js";import{d as V,o as n,c as o,a as e,t as m,_ as j,r as x,b as a,e as c,f as q,u as E,i as K,g as se,w as M,h as T,j as Y,k as H,F as ne,l as ie,m as D,n as A,E as L,p as le,q as R,v as F,s as oe,x as ae}from"./index-dRr1Va11.js";import{_ as ce}from"./HomeView.vue_vue_type_script_setup_true_lang-cxkjtlWR.js";const re={class:"chat-content"},de={key:0,class:"word"},ue=["src"],_e={class:"info"},he={class:"time"},ve=["innerHTML"],fe={key:1,class:"word-my"},pe={class:"info"},me={class:"time"},ye=["innerHTML"],ge=["src"],we=V({__name:"MessageText",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""}},setup(t){const d=i=>(i=i.replace(/\n/g,"<br>"),new DOMParser().parseFromString(i,"text/html").body.innerHTML);return(i,l)=>(n(),o("div",re,[t.is_sender?(n(),o("div",fe,[e("div",pe,[e("p",me,m(t.direction),1),e("div",{class:"info-content",innerHTML:d(t.content)},null,8,ye)]),e("img",{src:t.headUrl},null,8,ge)])):(n(),o("div",de,[e("img",{src:t.headUrl},null,8,ue),e("div",_e,[e("p",he,m(t.direction),1),e("div",{class:"info-content",innerHTML:d(t.content)},null,8,ve)])]))]))}}),xe=j(we,[["__scopeId","data-v-d930be9e"]]),$e={class:"chat-content"},be={key:0,class:"word"},ke=["src"],Se={class:"info"},Ue={class:"time"},Me={class:"demo-image__preview"},Te={key:1,class:"word-my"},Ve={class:"info"},De={class:"time"},ze={class:"demo-image__preview"},Ce=["src"],He=V({__name:"MessageImg",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""}},setup(t){return(d,i)=>{const l=x("el-image");return n(),o("div",$e,[t.is_sender?(n(),o("div",Te,[e("div",Ve,[e("p",De,m(t.direction),1),e("div",ze,[a(l,{style:{"max-width":"150px","max-height":"150px"},src:t.src,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[t.src],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])]),e("img",{src:t.headUrl},null,8,Ce)])):(n(),o("div",be,[e("img",{src:t.headUrl},null,8,ke),e("div",Se,[e("p",Ue,m(t.direction),1),e("div",Me,[a(l,{style:{"max-width":"150px","max-height":"150px"},src:t.src,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[t.src],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])])]))])}}}),Ee=j(He,[["__scopeId","data-v-24d6aaa0"]]),je={class:"chat-content"},Ie={key:0,class:"word"},Ne=["src"],Le={class:"info"},Re={class:"time"},Fe={class:"demo-video__preview"},Oe={controls:"",width:"30%"},qe=["src"],Be={key:1,class:"word-my"},Ae={class:"info"},Pe={class:"time"},We={class:"demo-video__preview"},Ge={controls:"",width:"50%"},Ke=["src"],Ye=["src"],Je=V({__name:"MessageVideo",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""}},setup(t){const d=t,i=c("");return q(async()=>{i.value=`/api/video/${d.src}`}),(l,f)=>(n(),o("div",je,[t.is_sender?(n(),o("div",Be,[e("div",Ae,[e("p",Pe,m(t.direction),1),e("div",We,[e("video",Ge,[e("source",{src:i.value,type:"video/mp4"},null,8,Ke)])])]),e("img",{src:t.headUrl},null,8,Ye)])):(n(),o("div",Ie,[e("img",{src:t.headUrl},null,8,Ne),e("div",Le,[e("p",Re,m(t.direction),1),e("div",Fe,[e("video",Oe,[e("source",{src:i.value,type:"video/mp4"},null,8,qe)])])])]))]))}}),Qe=j(Je,[["__scopeId","data-v-f0fe7ab3"]]),Xe={class:"chat-content"},Ze={key:0,class:"word"},et=["src"],tt={class:"info"},st={class:"time"},nt={controls:"",style:{"background-color":"#fff"}},it=["src"],lt={key:1,class:"word-my"},ot={class:"info"},at={class:"time"},ct={controls:"",style:{"background-color":"#95EC69"}},rt=["src"],dt=["src"],ut=V({__name:"MessageAudio",props:{is_sender:{type:Number,default:0},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""},msg:{type:String,default:""}},setup(t){return(d,i)=>(n(),o("div",Xe,[t.is_sender?(n(),o("div",lt,[e("div",ot,[e("p",at,m(t.direction),1),e("audio",ct,[e("source",{src:t.src,type:"audio/wav"},null,8,rt)]),a(E(K),{rows:1,readonly:!0,value:t.msg,style:{width:"100%"}},null,8,["value"])]),e("img",{src:t.headUrl},null,8,dt)])):(n(),o("div",Ze,[e("img",{src:t.headUrl},null,8,et),e("div",tt,[e("p",st,m(t.direction),1),e("audio",nt,[e("source",{src:t.src,type:"audio/wav"},null,8,it)]),a(E(K),{rows:1,readonly:!0,value:t.msg,style:{width:"100%"}},null,8,["value"])])]))]))}}),_t=j(ut,[["__scopeId","data-v-0d0f2cd4"]]),ht={class:"chat-content"},vt={key:0,class:"word"},ft=["src"],pt={class:"info"},mt={class:"time"},yt={style:{float:"left"}},gt=["href"],wt={key:1,class:"word-my"},xt={class:"info"},$t={class:"time"},bt={style:{float:"right"}},kt=["href"],St=["src"],Ut=V({__name:"MessageFile",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""}},setup(t){const d=t,i=c(""),l=se({file_name:String,file_size:Number,file_size_unit:String});q(async()=>{console.log("文件加载中");const h=await f(d.src);console.log(h),l.file_name=h.file_name,l.file_size=Number(h.file_size)/1024,l.file_size<1024?l.file_size_unit="kb":(l.file_size=l.file_size/1024,l.file_size_unit="mb"),l.file_size=Number(h.file_size)/1024,i.value=`/api/file/${d.src}`});const f=async h=>{try{return await O.post("/api/file_info",{file_path:h})}catch($){return console.error("Error fetching file_info:",$),""}};return(h,$)=>{const u=x("el-card");return n(),o("div",ht,[t.is_sender?(n(),o("div",wt,[e("div",xt,[e("p",$t,m(t.direction),1),e("div",bt,[a(u,{shadow:"hover",style:{width:"fit-content"}},{default:M(()=>[T("文件 ： "),e("a",{href:i.value,download:""},m(l.file_name),9,kt),e("div",null,[T(" 文件大小："),e("span",null,m(l.file_size)+m(l.file_size_unit),1)])]),_:1})])]),e("img",{src:t.headUrl},null,8,St)])):(n(),o("div",vt,[e("img",{src:t.headUrl},null,8,ft),e("div",pt,[e("p",mt,m(t.direction),1),e("div",yt,[a(u,{shadow:"hover",style:{width:"fit-content"}},{default:M(()=>[T("文件 ： "),e("a",{href:i.value,download:""},m(l.file_name),9,gt),e("div",null,[T(" 文件大小："),e("span",null,m(l.file_size)+m(l.file_size_unit),1)])]),_:1})])])]))])}}}),Mt=j(Ut,[["__scopeId","data-v-9dc49946"]]),Tt={class:"chat-content"},Vt={key:0,class:"word"},Dt=["src"],zt={class:"info"},Ct={class:"time"},Ht={class:"demo-image__preview"},Et={key:1,class:"word-my"},jt={class:"info"},It={class:"time"},Nt={class:"demo-image__preview"},Lt=["src"],Rt=V({__name:"MessageEmoji",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""}},setup(t){const d=t,i=c("");return q(()=>{i.value=d.src}),(l,f)=>{const h=x("el-image");return n(),o("div",Tt,[t.is_sender?(n(),o("div",Et,[e("div",jt,[e("p",It,m(t.direction),1),e("div",Nt,[a(h,{style:{"max-width":"150px","max-height":"150px"},src:i.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[i.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])]),e("img",{src:t.headUrl},null,8,Lt)])):(n(),o("div",Vt,[e("img",{src:t.headUrl},null,8,Dt),e("div",zt,[e("p",Ct,m(t.direction),1),e("div",Ht,[a(h,{style:{"max-width":"150px","max-height":"150px"},src:i.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[i.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])])]))])}}}),Ft=j(Rt,[["__scopeId","data-v-39abf529"]]),Ot={class:"chat-content"},qt={key:0,class:"word"},Bt=["src"],At={class:"info"},Pt={class:"time"},Wt=["innerHTML"],Gt={key:1,class:"word-my"},Kt={class:"info"},Yt={class:"time"},Jt=["innerHTML"],Qt=["src"],Xt=V({__name:"MessageOther",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""}},setup(t){const d=i=>(i=i.replace(/\n/g,"<br>"),new DOMParser().parseFromString(i,"text/html").body.innerHTML);return(i,l)=>(n(),o("div",Ot,[t.is_sender?(n(),o("div",Gt,[e("div",Kt,[e("p",Yt,m(t.direction),1),e("div",{class:"info-content",innerHTML:d(t.content)},null,8,Jt)]),e("img",{src:t.headUrl},null,8,Qt)])):(n(),o("div",qt,[e("img",{src:t.headUrl},null,8,Bt),e("div",At,[e("p",Pt,m(t.direction),1),e("div",{class:"info-content",innerHTML:d(t.content)},null,8,Wt)])]))]))}}),Zt=j(Xt,[["__scopeId","data-v-e529325a"]]),es={id:"chat"},ts={class:"chat_body"},ss={class:"chat_window",ref:"chatWindow"},ns={key:0,class:"load_more",style:{display:"flex","justify-content":"center","margin-top":"10px","margin-bottom":"10px"}},is=V({__name:"ChatRecordsMain",props:{userData:{type:Object,required:!0},setScrollTop:{type:Function,required:!0},updateScrollTop:{type:Function,required:!0}},setup(t,{expose:d}){const i=t,l=c([]),f=c({}),h=c(""),$=c(50),u=c(0),b=c(!1),z=async(_,S,v)=>{try{const s=await O.post("/api/msgs",{start:_,limit:S,wxid:v});return l.value=s.msg_list,f.value=s.user_list,h.value=s.my_wxid,s}catch(s){return console.error("Error fetching data:",s),[]}},C=async()=>{try{u.value=i.userData.chat_count-$.value,await z(u.value,$.value,i.userData.username),b.value||await A(()=>{i.setScrollTop(),b.value=!1})}catch(_){return console.error("Error fetching data:",_),[]}};q(C),Y(()=>i.userData.username,(_,S)=>{console.log("username changed",_,S),l.value=[],b.value=!1,C()});const k=_=>(_.talker=="我"&&(_.talker=h.value),`${(v=>f.value.hasOwnProperty(v.talker)?f.value[v.talker].remark?f.value[v.talker].remark:f.value[v.talker].nickname?f.value[v.talker].nickname:f.value[v.talker].account?f.value[v.talker].account:v.talker:v.talker)(_)} [${_.type_name}] ${_.CreateTime}`),y=_=>(_.talker=="我"&&(_.talker=h.value),f.value.hasOwnProperty(_.talker)?f.value[_.talker].headImgUrl:""),I=async()=>{let _=$.value,S=u.value-_;const v=await O.post("/api/msgs",{start:S,limit:_,wxid:i.userData.username});u.value=S,l.value=v.msg_list.concat(l.value),l.value.sort((s,U)=>s.id-U.id),l.value=l.value.filter((s,U,g)=>U===0||s.id!==g[U-1].id),f.value=Object.assign(f.value,v.user_list),await A(()=>{i.updateScrollTop()})};return d({loadMore:I}),(_,S)=>{const v=x("el-button");return n(),o("div",es,[e("div",ts,[e("div",ss,[l.value.length<t.userData.chat_count?(n(),o("div",ns,[a(v,{type:"primary",onClick:I},{default:M(()=>[T("查看更多消息")]),_:1})])):H("",!0),(n(!0),o(ne,null,ie(l.value,(s,U)=>(n(),o("div",{class:"message",key:U},[s.type_name=="文本"?(n(),D(xe,{key:0,is_sender:s.is_sender,direction:k(s),headUrl:y(s),content:s.content.msg},null,8,["is_sender","direction","headUrl","content"])):s.type_name=="图片"?(n(),D(Ee,{key:1,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:"/api/img?img_path="+s.content.src},null,8,["is_sender","direction","headUrl","src"])):s.type_name=="动画表情"?(n(),D(Ft,{key:2,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:s.content.src},null,8,["is_sender","direction","headUrl","src"])):s.type_name=="视频"?(n(),D(Qe,{key:3,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:s.content.src},null,8,["is_sender","direction","headUrl","src"])):s.type_name=="文件"?(n(),D(Mt,{key:4,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:s.content.src},null,8,["is_sender","direction","headUrl","src"])):s.type_name=="语音"?(n(),D(_t,{key:5,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:"/api/"+s.content.src,msg:s.content.msg},null,8,["is_sender","direction","headUrl","src","msg"])):(n(),D(Zt,{key:6,is_sender:s.is_sender,direction:k(s),headUrl:y(s),content:s.content.msg},null,8,["is_sender","direction","headUrl","content"]))]))),128))],512)])])}}}),ls=j(is,[["__scopeId","data-v-c286032e"]]),os=V({__name:"ChatRecords",props:{userData:{type:Object,required:!0}},setup(t){const d=c(null),i=c(null);c(0);const l=c(0),f=()=>{A(()=>{if(d.value){const u=d.value.$el.children[0];u&&(u.scrollTop=u.scrollHeight,l.value=u.scrollHeight)}})},h=()=>{const u=d.value.$el.children[0];if(u){const b=l.value,z=u.scrollHeight-b;u.scrollTop=u.scrollTop+z,l.value=u.scrollHeight}};function $({scrollTop:u}){u===0&&i.value&&i.value.loadMore()}return(u,b)=>{const z=x("el-header"),C=x("el-scrollbar"),k=x("el-main"),y=x("el-container");return n(),D(y,null,{default:M(()=>[a(z,{style:{height:"65px","max-height":"65px",width:"100%","background-color":"#d2d2fa","padding-top":"5px"}},{default:M(()=>[a(ee,{userData:t.userData},null,8,["userData"])]),_:1}),a(k,{style:{"overflow-y":"auto",height:"calc(100vh - 65px)",padding:"0"}},{default:M(()=>[a(C,{ref_key:"scrollbarRef",ref:d,onScroll:$},{default:M(()=>[a(ls,{ref_key:"chatRecordsMainRef",ref:i,userData:t.userData,setScrollTop:f,updateScrollTop:h},null,8,["userData"])]),_:1},512)]),_:1})]),_:1})}}}),as={style:{"background-color":"#d2d2fa",height:"100vh",display:"flex","justify-content":"center","align-items":"center"}},cs={key:0},rs={key:1,style:{"background-color":"#fff",width:"90%","min-width":"800px",height:"80%","border-radius":"10px",padding:"20px",overflow:"auto"}},ds=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("div",{style:{"font-size":"20px","font-weight":"bold"}},"选择要查看的微信")],-1),us={style:{"margin-top":"20px"}},_s={style:{"margin-top":"20px"}},hs={key:1},vs={style:{"background-color":"#fff",width:"80%","min-width":"800px",height:"70%","border-radius":"10px",padding:"20px",overflow:"auto"}},fs=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("div",{style:{"font-size":"20px","font-weight":"bold"}},"自定义-文件位置"),e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}})],-1),ps={style:{"margin-top":"20px"}},ms={key:0},ys={key:1},gs={key:2},ws=e("label",null,"MicroMsg.db 路径: ",-1),xs=e("br",null,null,-1),$s={key:3},bs=e("label",null,"MSG.db 路径: ",-1),ks=e("br",null,null,-1),Ss={key:4},Us=e("label",null,"MediaMSG.db 路径: ",-1),Ms=e("br",null,null,-1),Ts=e("label",null,"微信文件夹路径: ",-1),Vs=e("br",null,null,-1),Ds=e("label",null,"微信原始id: ",-1),zs=e("br",null,null,-1),Cs={key:5},Hs=e("label",null,"密钥key(可空): ",-1),Es=e("br",null,null,-1),js={key:2},Is={key:3,style:{display:"flex","justify-content":"space-between"}},Ns={style:{width:"200px",height:"150px","background-color":"#fff",display:"flex","flex-direction":"column","align-items":"center","border-radius":"10px","margin-right":"20px"}},Ls=e("div",{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"100%"}},[e("div",null,[T("使用上次数据"),e("br"),T("(自动获取当前登录微信最新消息)")])],-1),Rs={style:{width:"200px",height:"150px","background-color":"#fff",display:"flex","flex-direction":"column","align-items":"center","border-radius":"10px","margin-right":"20px"}},Fs=e("div",{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"100%"}},[e("div",null,"自动解密已登录微信")],-1),Os={style:{width:"200px",height:"150px","background-color":"#fff",display:"flex","flex-direction":"column","align-items":"center","border-radius":"10px"}},qs=e("div",{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"100%"}},[e("div",null,"自定义文件位置")],-1),Bs=V({__name:"IsAutoShow",emits:["isAutoShow"],setup(t,{emit:d}){const i=c(0),l=c(500),f=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],h=c(new Date().getTime()),$=()=>{k.value||(h.value=new Date().getTime(),!(i.value>=99)&&(i.value>=80&&(l.value=l.value+50),i.value=i.value+1,setTimeout($,l.value)))},u=c(!1),b=c([]),z=c(""),C=c(!1);c("");const k=c(!1),y=c("false"),I=c(""),_=c(""),S=c(""),v=c(""),s=c(""),U=c(""),g=c(""),J=d,Q=async()=>{try{b.value=await O.post("/api/wxinfo"),b.value.length===1&&(P(b.value[0]),z.value=" (检测到只有一个微信，将在5秒后自动选择) ",setTimeout(W,5e3))}catch(w){return console.error("Error fetching data:",w),[]}},P=async w=>{I.value="",_.value="",S.value="",v.value=w.filePath,s.value=w.key,U.value=w.wxid},W=()=>{v.value===""&&s.value===""&&U.value===""||C.value||(console.log(v.value,s.value,U.value),C.value=!0,B(),$())},B=async()=>{try{let w={msg_path:I.value,micro_path:_.value,media_path:S.value,wx_path:v.value,key:s.value,my_wxid:U.value,init_type:g.value};const r=await O.post("/api/init",w);u.value=r.is_init,r.is_init&&(i.value=100),J("isAutoShow",r.is_init)}catch(w){return i.value=0,k.value=!0,oe.alert(w,"error",{confirmButtonText:"确认",callback:r=>{ae({type:"error",message:`action: ${r}`})}}),[]}};return Y(g,w=>{w==="auto"?Q():w==="custom"||w==="last"&&B()}),(w,r)=>{const X=x("el-progress"),G=x("el-button"),Z=x("el-divider"),N=x("el-input");return n(),o("div",as,[g.value==="auto"?(n(),o("div",cs,[C.value&&!k.value?(n(),D(X,{key:0,type:"dashboard",percentage:i.value,color:f},null,8,["percentage"])):(n(),o("div",rs,[ds,e("div",us,[a(E(le),{data:b.value,onCurrentChange:P,"highlight-current-row":"",style:{width:"100%"}},{default:M(()=>[a(E(L),{"min-width":30,prop:"pid",label:"进程id"}),a(E(L),{"min-width":40,prop:"version",label:"微信版本"}),a(E(L),{"min-width":40,prop:"account",label:"账号"}),a(E(L),{"min-width":40,prop:"name",label:"昵称"}),a(E(L),{"min-width":50,prop:"wxid",label:"微信原始id"})]),_:1},8,["data"])]),e("div",_s,[a(G,{style:{"margin-right":"10px","margin-top":"10px",width:"100%"},type:"success",onClick:W},{default:M(()=>[T("确定"+m(z.value),1)]),_:1})])]))])):g.value==="custom"?(n(),o("div",hs,[e("div",vs,[fs,e("div",ps,[R(e("input",{type:"radio","onUpdate:modelValue":r[0]||(r[0]=p=>y.value=p),value:"true"},null,512),[[F,y.value]]),T(" 使用 KEY          "),R(e("input",{type:"radio","onUpdate:modelValue":r[1]||(r[1]=p=>y.value=p),value:"false"},null,512),[[F,y.value]]),T(" 不使用 KEY "),y.value=="false"?(n(),o("div",ms," 说明：1、表示数据库已解密    2、若使用导出后的merge数据库，则db路径写这个即可 ")):H("",!0),y.value=="true"?(n(),o("div",ys," 说明：自动根据key解密微信文件夹下的数据库 ")):H("",!0),a(Z),y.value=="false"?(n(),o("div",gs,[ws,a(N,{placeholder:"MicroMsg.db",modelValue:_.value,"onUpdate:modelValue":r[2]||(r[2]=p=>_.value=p),style:{width:"80%"}},null,8,["modelValue"]),xs])):H("",!0),y.value=="false"?(n(),o("div",$s,[bs,a(N,{placeholder:"MSG.db",modelValue:I.value,"onUpdate:modelValue":r[3]||(r[3]=p=>I.value=p),style:{width:"80%"}},null,8,["modelValue"]),ks])):H("",!0),y.value=="false"?(n(),o("div",Ss,[Us,a(N,{placeholder:"MediaMSG.db",modelValue:S.value,"onUpdate:modelValue":r[4]||(r[4]=p=>S.value=p),style:{width:"80%"}},null,8,["modelValue"]),Ms])):H("",!0),Ts,a(N,{placeholder:"C:\\***\\WeChat Files\\wxid_*******",modelValue:v.value,"onUpdate:modelValue":r[5]||(r[5]=p=>v.value=p),style:{width:"80%"}},null,8,["modelValue"]),Vs,Ds,a(N,{placeholder:"wxid_*******",modelValue:U.value,"onUpdate:modelValue":r[6]||(r[6]=p=>U.value=p),style:{width:"80%"}},null,8,["modelValue"]),zs,y.value=="true"?(n(),o("div",Cs,[Hs,a(N,{placeholder:"密钥key (64位)",modelValue:s.value,"onUpdate:modelValue":r[7]||(r[7]=p=>s.value=p),style:{width:"80%"}},null,8,["modelValue"]),Es])):H("",!0),a(G,{style:{"margin-top":"10px",width:"100%"},type:"success",onClick:B},{default:M(()=>[T("确定")]),_:1})])])])):g.value==="last"?(n(),o("div",js)):g.value===""?(n(),o("div",Is,[e("label",Ns,[R(e("input",{type:"radio","onUpdate:modelValue":r[8]||(r[8]=p=>g.value=p),value:"last"},null,512),[[F,g.value]]),Ls]),e("label",Rs,[R(e("input",{type:"radio","onUpdate:modelValue":r[9]||(r[9]=p=>g.value=p),value:"auto"},null,512),[[F,g.value]]),Fs]),e("label",Os,[R(e("input",{type:"radio","onUpdate:modelValue":r[10]||(r[10]=p=>g.value=p),value:"custom"},null,512),[[F,g.value]]),qs])])):H("",!0)])}}}),As={id:"chat_view",class:"common-layout"},Ps={key:0},Ws={key:1},Gs={key:0,style:{height:"calc(100vh)",width:"100%"}},Ks={key:1,style:{width:"100%",height:"100%"}},Zs=V({__name:"ChatView",setup(t){const d=c({account:"",describe:"",headImgUrl:"",nickname:"",remark:"",username:"",chat_count:0}),i=h=>{d.value=h},l=c(!1),f=h=>{l.value=h};return(h,$)=>{const u=x("el-aside"),b=x("el-container");return n(),o("div",As,[l.value?(n(),o("div",Ws,[a(b,null,{default:M(()=>[a(u,{width:"auto",style:{"overflow-y":"auto",height:"calc(100vh)"}},{default:M(()=>[a(te,{onUserData:i})]),_:1}),d.value.username!=""?(n(),o("div",Gs,[a(os,{userData:d.value},null,8,["userData"])])):(n(),o("div",Ks,[a(ce)]))]),_:1})])):(n(),o("div",Ps,[a(Bs,{onIsAutoShow:f})]))])}}});export{Zs as default};
