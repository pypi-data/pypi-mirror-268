<odoo>
  <data>

    <record id="view_fleetio_car_form" model="ir.ui.view">
      <field name="name">sm_connect.fleetio_vehicle.form</field>
      <field name="model">fleet.vehicle</field>
      <field name="type">form</field>
      <field name="inherit_id" ref="fleet.fleet_vehicle_view_form"/>
      <field name="arch" type="xml">
        <!-- Confirm dialog for maintenance -->
        <xpath expr="//form" position="attributes">
            <attribute name="js_class">form_confirmation</attribute>
        </xpath>
        <xpath expr="//field[@name='model_year']" position="after">
            <field name="maintenance" string="Maintenance in Fleetio"/>
            <div attrs="{'invisible':[('maintenance', '!=', True)]}" class="alert alert-danger">This will upload or create information to Fleetio.</div>
            <field name="fleetio_id" readonly="True" attrs="{'invisible':[('maintenance', '!=', True),('fleetio_id', '!=', True),('fleetio_archived', '!=', True)]}"/>
            <field name="fleetio_archived" readonly="True" attrs="{'invisible':[('maintenance', '!=', True),('fleetio_id', '!=', True),('fleetio_archived', '!=', True)]}"/>
        </xpath>
        <xpath expr="//field[@name='vin_sn']" position="attributes">
            <attribute name="required">1</attribute>
        </xpath>
        <xpath expr="//field[@name='license_plate']" position="attributes">
            <attribute name="required">1</attribute>
        </xpath>
      </field>
    </record>

  </data>
</odoo>